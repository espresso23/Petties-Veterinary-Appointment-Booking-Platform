# ============================================
# PETTIES - DEVELOPMENT PROFILE
# DÃ¹ng khi SPRING_PROFILES_ACTIVE=dev
# ============================================

# ============================================
# DATABASE CONFIGURATION - Local PostgreSQL
# ============================================
spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:petties_db}
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD:postgres}

# ============================================
# MONGODB - Local Docker
# ============================================
spring.data.mongodb.uri=mongodb://${MONGO_USERNAME:admin}:${MONGO_PASSWORD:admin}@${MONGO_HOST:localhost}:${MONGO_PORT:27017}/${MONGO_DB:petties_nosql}?authSource=admin
spring.data.mongodb.host=${MONGO_HOST:localhost}
spring.data.mongodb.port=${MONGO_PORT:27017}
spring.data.mongodb.database=${MONGO_DB:petties_nosql}
spring.data.mongodb.username=${MONGO_USERNAME:admin}
spring.data.mongodb.password=${MONGO_PASSWORD:admin}
spring.data.mongodb.authentication-database=admin
management.health.mongo.enabled=false


# ============================================
# JPA / HIBERNATE - DEVELOPMENT (Migration-First)
# ============================================
spring.jpa.hibernate.ddl-auto=validate
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ============================================
# LOGGING - DEVELOPMENT (Verbose)
# ============================================
logging.level.root=INFO
logging.level.com.petties=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ============================================
# ACTUATOR - DEVELOPMENT (Full access)
# ============================================
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always

# ============================================
# DEV TOOLS
# ============================================
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true

# ============================================
# EMAIL CONFIGURATION - Gmail SMTP
# ============================================
# IMPORTANT: Set MAIL_USERNAME and MAIL_PASSWORD in .env file!
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# Disable mail health check
management.health.mail.enabled=false

# ============================================
# REDIS CONFIGURATION - Local Docker
# ============================================
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=
