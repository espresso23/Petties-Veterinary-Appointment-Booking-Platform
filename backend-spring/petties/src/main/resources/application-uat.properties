# ============================================
# PETTIES - UAT PROFILE (User Acceptance Testing)
# Dùng khi SPRING_PROFILES_ACTIVE=uat (cho uat.petties.world trên EC2)
# ============================================

# ============================================
# DATABASE CONFIGURATION
# ============================================
spring.datasource.url=jdbc:postgresql://${DB_HOST}:${DB_PORT:5432}/${DB_NAME:postgres}?sslmode=require
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# Connection Pool
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# ============================================
# MONGODB
# ============================================
spring.data.mongodb.uri=${MONGO_URI}

# ============================================
# JPA / HIBERNATE - UAT
# ============================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ============================================
# CORS CONFIGURATION - UAT
# Allow UAT domains and localhost
# ============================================
cors.allowed-origins=${CORS_ORIGINS:https://uat-api.petties.world,https://uat-ai.petties.world,http://localhost:5173,http://localhost:3000}

# ============================================
# LOGGING - UAT (Verbose for testing)
# ============================================
logging.level.root=INFO
logging.level.com.petties=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG

# ============================================
# ACTUATOR - UAT (Full access)
# ============================================
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always

# ============================================
# DEV TOOLS (if needed)
# ============================================
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

