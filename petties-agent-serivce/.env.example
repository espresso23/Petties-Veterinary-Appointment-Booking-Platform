# ============================================
# PETTIES AGENT SERVICE - Environment Variables
# Version: v0.0.1
# ============================================

# ==================== Application Settings ====================
# APP_NAME: Tên ứng dụng hiển thị trong logs và monitoring
APP_NAME=Petties Agent Service

# APP_ENV: Môi trường (development, staging, production)
APP_ENV=development

# APP_VERSION: Version của service
APP_VERSION=0.0.1

# APP_DEBUG: Bật/tắt debug mode (true trong dev, false trong production)
APP_DEBUG=true

# ==================== Server Configuration ====================
# HOST: Địa chỉ IP server bind (0.0.0.0 cho tất cả interfaces)
HOST=0.0.0.0

# PORT: Port cho FastAPI server
PORT=8000

# WORKERS: Số workers cho Uvicorn (2-4 workers cho production)
WORKERS=2

# CORS_ORIGINS: Danh sách origins được phép (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ==================== Database - PostgreSQL ====================
# POSTGRES_HOST: Hostname của PostgreSQL server
POSTGRES_HOST=localhost

# POSTGRES_PORT: Port của PostgreSQL (default: 5432)
POSTGRES_PORT=5432

# POSTGRES_DB: Tên database cho Agent service
POSTGRES_DB=petties_agent_db

# POSTGRES_USER: Username kết nối PostgreSQL
POSTGRES_USER=postgres

# POSTGRES_PASSWORD: Password kết nối PostgreSQL
POSTGRES_PASSWORD=your_secure_password

# DATABASE_URL: Full connection string (auto-generated từ các biến trên)
DATABASE_URL=postgresql+asyncpg://postgres:your_secure_password@localhost:5432/petties_agent_db

# ==================== Vector Database - Qdrant Cloud ====================
# QDRANT_URL: Qdrant Cloud cluster URL (format: https://xxx-xxx.qdrant.io)
# Purpose: Connect to Qdrant Cloud cho vector storage (RAG knowledge base)
QDRANT_URL=https://your-cluster-id.qdrant.io

# QDRANT_API_KEY: API key cho Qdrant Cloud authentication (bắt buộc)
QDRANT_API_KEY=your_qdrant_cloud_api_key_here

# QDRANT_COLLECTION_NAME: Tên collection cho knowledge base vectors
QDRANT_COLLECTION_NAME=petties_knowledge_base

# ==================== AI/LLM Configuration ====================
# LLM_PROVIDER: Provider cho LLM (openai, ollama)
LLM_PROVIDER=openai

# OPENAI_API_KEY: API key cho OpenAI (cho embeddings và LLM)
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# OPENAI_EMBEDDING_MODEL: Model cho embeddings (text-embedding-3-small)
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# OPENAI_CHAT_MODEL: Model cho chat (gpt-4-turbo, gpt-3.5-turbo)
OPENAI_CHAT_MODEL=gpt-4-turbo

# ==================== Ollama Configuration (Self-hosted LLM) ====================
# OLLAMA_BASE_URL: URL của Ollama server chạy local
OLLAMA_BASE_URL=http://localhost:11434

# OLLAMA_MODEL: Model name trong Ollama
# Primary: kimi-k2 (tốt cho tiếng Việt và tool calling)
# Alternatives: llama3, mistral, gemma, qwen2.5:7b
OLLAMA_MODEL=kimi-k2

# OLLAMA_EMBEDDING_MODEL: Model cho embeddings (RAG)
# Recommended: nomic-embed-text (best balance speed/quality, multilingual)
OLLAMA_EMBEDDING_MODEL=nomic-embed-text

# ==================== Agent Configuration ====================
# MAIN_AGENT_TEMPERATURE: Temperature cho Main Agent (0.0-1.0, thấp = deterministic)
MAIN_AGENT_TEMPERATURE=0.0

# MEDICAL_AGENT_TEMPERATURE: Temperature cho Medical Agent (0.5 cân bằng)
MEDICAL_AGENT_TEMPERATURE=0.5

# BOOKING_AGENT_TEMPERATURE: Temperature cho Booking Agent (0.0 = deterministic)
BOOKING_AGENT_TEMPERATURE=0.0

# PRODUCT_AGENT_TEMPERATURE: Temperature cho Product Agent (0.3)
PRODUCT_AGENT_TEMPERATURE=0.3

# MAX_TOKENS: Số tokens tối đa cho response
MAX_TOKENS=2000

# ==================== RAG Configuration ====================
# CHUNK_SIZE: Kích thước chunk khi split documents (characters)
CHUNK_SIZE=1000

# CHUNK_OVERLAP: Overlap giữa các chunks (characters)
CHUNK_OVERLAP=200

# TOP_K_RETRIEVAL: Số documents retrieve từ vector store
TOP_K_RETRIEVAL=5

# SIMILARITY_THRESHOLD: Ngưỡng similarity score (0.0-1.0)
SIMILARITY_THRESHOLD=0.7

# ==================== Web Search Configuration ====================
# DUCKDUCKGO_MAX_RESULTS: Số kết quả tối đa từ DuckDuckGo
DUCKDUCKGO_MAX_RESULTS=5

# YOUTUBE_API_KEY: API key cho YouTube Data API (optional)
YOUTUBE_API_KEY=

# ==================== MCP Integration ====================
# SPRING_BACKEND_URL: URL của Spring Boot backend (để gọi MCP tools)
SPRING_BACKEND_URL=http://localhost:8080/api/v1

# MCP_TIMEOUT: Timeout cho MCP requests (seconds)
MCP_TIMEOUT=30

# ==================== Authentication & Security ====================
# SECRET_KEY: Secret key cho JWT signing (generate bằng: openssl rand -hex 32)
SECRET_KEY=your_super_secret_key_change_this_in_production

# ALGORITHM: Algorithm cho JWT encoding
ALGORITHM=HS256

# ACCESS_TOKEN_EXPIRE_MINUTES: Thời gian expire của access token (minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ==================== File Upload Configuration ====================
# UPLOAD_DIR: Thư mục lưu files upload (knowledge base documents)
UPLOAD_DIR=./uploads

# MAX_UPLOAD_SIZE: Kích thước tối đa cho file upload (bytes, 10MB)
MAX_UPLOAD_SIZE=10485760

# ALLOWED_EXTENSIONS: Extensions được phép upload (comma-separated)
ALLOWED_EXTENSIONS=.pdf,.docx,.txt,.md

# ==================== Logging & Monitoring ====================
# LOG_LEVEL: Mức độ logging (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# LOG_FILE: File path cho logs (để trống nếu chỉ log ra console)
LOG_FILE=./logs/agent_service.log

# ENABLE_PROMETHEUS: Bật/tắt Prometheus metrics endpoint
ENABLE_PROMETHEUS=true

# ==================== Redis (Optional - for caching) ====================
# REDIS_HOST: Hostname của Redis server (optional)
REDIS_HOST=localhost

# REDIS_PORT: Port của Redis
REDIS_PORT=6379

# REDIS_PASSWORD: Password cho Redis (để trống nếu không có)
REDIS_PASSWORD=

# REDIS_DB: Redis database number (0-15)
REDIS_DB=0

# ==================== Testing & Development ====================
# TEST_MODE: Bật test mode (true khi chạy tests)
TEST_MODE=false

# MOCK_LLM_RESPONSES: Mock LLM responses để test không tốn API credits
MOCK_LLM_RESPONSES=false
