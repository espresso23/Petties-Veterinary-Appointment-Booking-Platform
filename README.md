# ğŸ¾ Petties - Veterinary Appointment Booking Platform

**Petties** lÃ  má»™t ná»n táº£ng hiá»‡n Ä‘áº¡i káº¿t ná»‘i chá»§ nuÃ´i thÃº cÆ°ng vá»›i cÃ¡c **phÃ²ng khÃ¡m thÃº y** chuyÃªn nghiá»‡p. Chá»§ pet Ä‘áº·t lá»‹ch vá»›i phÃ²ng khÃ¡m, phÃ²ng khÃ¡m phÃ¢n cÃ´ng bÃ¡c sÄ© phÃ¹ há»£p. Cung cáº¥p dá»‹ch vá»¥ Ä‘áº·t lá»‹ch tham khÃ¡m táº¡i nhÃ  hoáº·c táº¡i phÃ²ng khÃ¡m má»™t cÃ¡ch dá»… dÃ ng vÃ  an toÃ n.

---

## ğŸ“‹ ThÃ´ng Tin Dá»± Ãn

| ThÃ´ng Tin | Chi Tiáº¿t |
|-----------|---------|
| **TÃªn Dá»± Ãn** | Petties: Veterinary Appointment Booking Platform |
| **Viáº¿t Táº¯t** | PVABP |
| **Lá»›p** | CP_SEP490 |
| **Thá»i Gian** | 05/01/2026 - 30/04/2026 (13 Sprints) |
| **ChuyÃªn NgÃ nh** | Software Engineering |
| **Äá»‹a Äiá»ƒm** | Da Nang |

---

## ğŸ‘¥ ThÃ nh ViÃªn Team

### GiÃ¡o ViÃªn HÆ°á»›ng Dáº«n
- **Nguyá»…n XuÃ¢n Long** - Supervisor
  - â˜ï¸ 0905764750
  - ğŸ“§ longnx6@fe.edu.vn

### ThÃ nh ViÃªn NhÃ³m
| STT | TÃªn | MÃ£ SV | Äiá»‡n Thoáº¡i | Email | Vai TrÃ² |
|-----|-----|-------|-----------|-------|---------|
| 1 | Pháº¡m LÃª Quá»‘c TÃ¢n | SE181717 | 0931600767 | tanplqse181717@fpt.edu.vn | Leader |
| 2 | Nguyá»…n Äá»©c Tuáº¥n | DE180807 | 0767007284 | tuanndde180807@fpt.edu.vn | Member |
| 3 | VÅ© Minh Triáº¿t | DE180687 | 0923131004 | trietvmde180687@fpt.edu.vn | Member |
| 4 | LÆ°u Äáº·ng Diá»‡u Huyá»n | DE180773 | 0886998759 | huyenlddde180773@fpt.edu.vn | Member |
| 5 | LÃª PhÆ°Æ¡ng UyÃªn | DE180893 | 0372395933 | uyenlpde180893@fpt.edu.vn | Member |

---

## ğŸ¯ Má»¥c TiÃªu Dá»± Ãn

### Váº¥n Äá» Cáº§n Giáº£i Quyáº¿t
Chá»§ nuÃ´i thÃº cÆ°ng thÆ°á»ng gáº·p khÃ³ khÄƒn khi cáº§n chÄƒm sÃ³c sá»©c khá»e cho pet:

- âŒ KhÃ³ tÃ¬m phÃ²ng khÃ¡m thÃº y cÃ³ dá»‹ch vá»¥ thÄƒm nhÃ 
- âŒ KhÃ³ so sÃ¡nh dá»‹ch vá»¥ vÃ  giÃ¡ cáº£ giá»¯a cÃ¡c phÃ²ng khÃ¡m
- âŒ Quy trÃ¬nh Ä‘áº·t lá»‹ch phá»©c táº¡p, quáº£n lÃ½ nhiá»u pet khÃ´ng tiá»‡n
- âŒ KhÃ´ng cÃ³ thÃ´ng bÃ¡o Ä‘á»‹nh ká»³ vá» tÃ¬nh tráº¡ng sá»©c khá»e
- âŒ Thanh toÃ¡n trá»±c tuyáº¿n chÆ°a an toÃ n

### Má»¥c TiÃªu Giáº£i PhÃ¡p
- âœ… Cung cáº¥p ná»n táº£ng Ä‘áº·t lá»‹ch tham khÃ¡m vá»›i **phÃ²ng khÃ¡m thÃº y** (Clinic-centric)
- âœ… TÃ¬m kiáº¿m vÃ  so sÃ¡nh phÃ²ng khÃ¡m theo dá»‹ch vá»¥, giÃ¡ cáº£, Ä‘Ã¡nh giÃ¡
- âœ… PhÃ²ng khÃ¡m phÃ¢n cÃ´ng bÃ¡c sÄ© phÃ¹ há»£p sau khi nháº­n booking
- âœ… Há»— trá»£ Ä‘áº·t lá»‹ch thá»±c thá»i: **Home Visit** hoáº·c **Clinic Visit**
- âœ… PhÃ²ng khÃ¡m quáº£n lÃ½ bÃ¡c sÄ©, lá»‹ch biá»ƒu, giÃ¡ cÆ°á»›c, doanh thu
- âœ… Thanh toÃ¡n trá»±c tuyáº¿n an toÃ n vÃ  báº£o máº­t
- âœ… Admin dashboard giÃ¡m sÃ¡t appointment, ngÆ°á»i dÃ¹ng vÃ  giao dá»‹ch
- âœ… Tá»‘i Æ°u UX: thÃ´ng bÃ¡o, nháº¯c nhá»Ÿ, tips chÄƒm sÃ³c thÃº cÆ°ng

---

## ğŸ› ï¸ Tech Stack

### Frontend
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         WEB FRONTEND                â”‚
â”‚  - React 19 + Vite                  â”‚
â”‚  - TypeScript                       â”‚
â”‚  - Tailwind CSS v4                  â”‚
â”‚  - React Router v7                  â”‚
â”‚  - Zustand (State Management)       â”‚
â”‚  - Axios (HTTP Client)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       MOBILE FRONTEND               â”‚
â”‚  - Flutter 3.5                      â”‚
â”‚  - iOS & Android Support            â”‚
â”‚  - Provider (State Management)      â”‚
â”‚  - GoRouter (Navigation)            â”‚
â”‚  - Role-based Routing               â”‚
â”‚  - Firebase Messaging (Push)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Backend
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         BACKEND API                 â”‚
â”‚  - Java 21                          â”‚
â”‚  - Spring Boot 4.0.0                â”‚
â”‚  - Spring Data JPA                  â”‚
â”‚  - Spring Security 6.x (JWT)        â”‚
â”‚  - Spring Boot Actuator             â”‚
â”‚  - RESTful API Architecture         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         DATABASES                   â”‚
â”‚  - PostgreSQL 16 (Relational Data) â”‚
â”‚  - MongoDB 7 (NoSQL, Flexible Data)â”‚
â”‚  - Qdrant Cloud (Vector Database)  â”‚
â”‚  - Redis (Caching - Optional)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AI & Data Processing
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      AI LAYER (Python)              â”‚
â”‚  - Python 3.12                      â”‚
â”‚  - FastAPI + Uvicorn                â”‚
â”‚  - LangGraph (Multi-agent)          â”‚
â”‚  - Ollama (Hybrid: Local/Cloud)     â”‚
â”‚  - LlamaIndex (RAG)                 â”‚
â”‚  - Qdrant Cloud (Vector Database)   â”‚
â”‚  - FastMCP (Protocol)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### DevOps & Infrastructure
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      DEPLOYMENT & STORAGE           â”‚
â”‚  - AWS S3 / Cloudinary (CDN)       â”‚
â”‚  - Docker & Docker Compose          â”‚
â”‚  - GitHub (Version Control)         â”‚
â”‚  - GitHub Actions (CI/CD)           â”‚
â”‚  - Stripe (Payment Gateway)         â”‚
â”‚  - Firebase (Notifications)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Features ChÃ­nh

### 1ï¸âƒ£ Quáº£n LÃ½ ThÃ´ng Tin Pet
- ThÃªm/sá»­a/xÃ³a profile thÃº cÆ°ng
- LÆ°u áº£nh, giá»‘ng, Ä‘á»™ tuá»•i, Ä‘áº·c Ä‘iá»ƒm thá»ƒ cháº¥t
- Lá»‹ch sá»­ tiÃªm chá»§ng (Vaccination Tracker)

### 2ï¸âƒ£ Há»‡ Thá»‘ng Há»“ SÆ¡ Bá»‡nh Ãn Äiá»‡n Tá»­ (EMR)
- LÆ°u trá»¯ táº­p trung lá»‹ch sá»­ bá»‡nh táº­t
- CÃ¡c bÃ¡c sÄ© cÃ³ thá»ƒ cáº­p nháº­t tá»« xa
- Truy cáº­p báº¥t ká»³ lÃºc nÃ o, báº¥t ká»³ nÆ¡i Ä‘Ã¢u

### 3ï¸âƒ£ Äáº·t Lá»‹ch Tham KhÃ¡m
- TÃ¬m kiáº¿m **phÃ²ng khÃ¡m** (Clinic) theo dá»‹ch vá»¥, khoáº£ng cÃ¡ch, Ä‘Ã¡nh giÃ¡
- Chá»n loáº¡i dá»‹ch vá»¥: **Home Visit** hoáº·c **Clinic Visit**
- Xem lá»‹ch trá»‘ng cá»§a phÃ²ng khÃ¡m
- Clinic sáº½ phÃ¢n cÃ´ng bÃ¡c sÄ© phÃ¹ há»£p sau khi Ä‘áº·t
- Thanh toÃ¡n trá»±c tuyáº¿n ngay khi Ä‘áº·t

### 4ï¸âƒ£ Cáº¥p Cá»©u (SOS)
- TÃ¬m phÃ²ng khÃ¡m thÃº y kháº©n cáº¥p gáº§n nháº¥t
- LiÃªn há»‡ tá»©c thÃ¬ vá»›i phÃ²ng khÃ¡m Ä‘á»ƒ Ä‘Æ°á»£c tÆ° váº¥n
- Äáº·t lá»‹ch kháº©n cáº¥p vá»›i phÃ²ng khÃ¡m

### 5ï¸âƒ£ TÆ° Váº¥n Video
- Gá»i video trá»±c tiáº¿p vá»›i bÃ¡c sÄ©
- Cháº©n Ä‘oÃ¡n tá»« xa
- LÆ°u láº¡i video Ä‘á»ƒ xem láº¡i

### 6ï¸âƒ£ ÄÆ¡n Thuá»‘c Äiá»‡n Tá»­ (e-Rx)
- BÃ¡c sÄ© láº­p Ä‘Æ¡n thuá»‘c ká»¹ thuáº­t sá»‘
- LÆ°u vÃ o há»“ sÆ¡ bá»‡nh cá»§a pet
- Chia sáº» vá»›i chá»§ pet

### 7ï¸âƒ£ ThÃ´ng BÃ¡o & Nháº¯c Nhá»Ÿ
- ThÃ´ng bÃ¡o appointment sáº¯p tá»›i
- Nháº¯c nhá»Ÿ lá»‹ch uá»‘ng thuá»‘c
- Email, SMS, Push notification

### 8ï¸âƒ£ Dashboard Admin
- Theo dÃµi táº¥t cáº£ appointment
- Thá»‘ng kÃª ngÆ°á»i dÃ¹ng vÃ  giao dá»‹ch
- BÃ¡o cÃ¡o doanh thu

### 9ï¸âƒ£ Dashboard BÃ¡c SÄ© (VET) - Mobile + Web
- Xem lá»‹ch lÃ m viá»‡c Ä‘Æ°á»£c gÃ¡n
- Xem booking Ä‘Æ°á»£c phÃ¢n cÃ´ng tá»« Clinic
- PhÃª duyá»‡t/tá»« chá»‘i booking
- Check-in/Check-out bá»‡nh nhÃ¢n
- Ghi chÃº há»“ sÆ¡ bá»‡nh Ã¡n (EMR)
- Ghi Ä‘Æ¡n thuá»‘c Ä‘iá»‡n tá»­

### 9ï¸âƒ£.1 Dashboard PhÃ²ng KhÃ¡m (CLINIC_OWNER/CLINIC_MANAGER) - Web Only
- **CLINIC_OWNER**: Quáº£n lÃ½ phÃ²ng khÃ¡m, thÃªm CLINIC_MANAGER
- **CLINIC_MANAGER**: Quáº£n lÃ½ bÃ¡c sÄ© (VET), phÃ¢n cÃ´ng booking
- Quáº£n lÃ½ lá»‹ch biá»ƒu vÃ  ca lÃ m viá»‡c
- Duyá»‡t request tá»« chá»§ pet
- Theo dÃµi doanh thu vÃ  thá»‘ng kÃª

### ğŸ”Ÿ ÄÃ¡nh GiÃ¡ & Nháº­n XÃ©t
- Chá»§ pet Ä‘Ã¡nh giÃ¡ **phÃ²ng khÃ¡m (Clinic)** vÃ  **bÃ¡c sÄ© (Vet)** (1-5 sao)
- Viáº¿t nháº­n xÃ©t chi tiáº¿t
- XÃ¢y dá»±ng uy tÃ­n cho phÃ²ng khÃ¡m vÃ  bÃ¡c sÄ©

### ğŸ” ThÃªm TÃ­nh NÄƒng Äáº·c Biá»‡t
- **AI Chatbot**: Trá»£ lÃ½ chÄƒm sÃ³c pet thÃ´ng minh vá»›i Multi-Agent Architecture
- **Admin Dashboard**: Quáº£n lÃ½ AI Agents, Tools, Knowledge Base
- **Äá»‹nh giÃ¡ Ä‘á»™ng**: TÃ­nh giÃ¡ dá»±a trÃªn khoáº£ng cÃ¡ch
- **Äa ngÃ´n ngá»¯**: Há»— trá»£ nhiá»u ngÃ´n ngá»¯ vÃ  mÃºi giá»
- **Analytics**: BÃ¡o cÃ¡o chi tiáº¿t cho quáº£n trá»‹ viÃªn

---

## ğŸ“Š Kiáº¿n TrÃºc Há»‡ Thá»‘ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLIENT LAYER                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ WEB FRONTEND    â”‚         â”‚ MOBILE APP       â”‚           â”‚
â”‚  â”‚ React + Vite    â”‚         â”‚ Flutter 3.5      â”‚           â”‚
â”‚  â”‚ (Browser)       â”‚         â”‚ (iOS/Android)    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                            â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  BACKEND SERVICES               â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Spring Boot API Server (Port 8080)  â”‚       â”‚
â”‚  â”‚ â”œâ”€ Authentication Service           â”‚       â”‚
â”‚  â”‚ â”œâ”€ Booking Service                  â”‚       â”‚
â”‚  â”‚ â”œâ”€ Pet Management Service           â”‚       â”‚
â”‚  â”‚ â”œâ”€ Vet Service                      â”‚       â”‚
â”‚  â”‚ â”œâ”€ Payment Service (Stripe)         â”‚       â”‚
â”‚  â”‚ â”œâ”€ Notification Service             â”‚       â”‚
â”‚  â”‚ â””â”€ Admin Dashboard Service          â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ AI Agent Service (Port 8000)        â”‚       â”‚
â”‚  â”‚ â”œâ”€ FastAPI Server                   â”‚       â”‚
â”‚  â”‚ â”œâ”€ Multi-Agent System (LangGraph)   â”‚       â”‚
â”‚  â”‚ â”‚  â”œâ”€ Main Agent (Supervisor)       â”‚       â”‚
â”‚  â”‚ â”‚  â”œâ”€ Booking Agent                 â”‚       â”‚
â”‚  â”‚ â”‚  â”œâ”€ Medical Agent                 â”‚       â”‚
â”‚  â”‚ â”‚  â””â”€ Research Agent                â”‚       â”‚
â”‚  â”‚ â”œâ”€ RAG Engine (LlamaIndex)          â”‚       â”‚
â”‚  â”‚ â”œâ”€ Vector Search (Qdrant Cloud)     â”‚       â”‚
â”‚  â”‚ â”œâ”€ Tool Registry (FastMCP)          â”‚       â”‚
â”‚  â”‚ â””â”€ WebSocket Orchestrator           â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                               â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚PostgreSQLâ”‚                  â”‚  MongoDB    â”‚
    â”‚(Primary) â”‚                  â”‚ (Document) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Qdrant Cloud      â”‚
    â”‚ (Vector Database)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Ollama (Hybrid)     â”‚
    â”‚ Local / Cloud LLM   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ HÆ°á»›ng Dáº«n CÃ i Äáº·t & Cháº¡y

### Prerequisites
- Node.js 18+ (Web Frontend)
- Java 21 (Backend)
- Python 3.12+ (AI Layer)
- Flutter SDK 3.5+ (Mobile)
- PostgreSQL 16+ & MongoDB 7+
- Docker & Docker Compose
- Ollama (Optional - for local LLM mode)

### Web Frontend Setup

```bash
# 1. Navigate to web folder
cd petties-web

# 2. Install dependencies
npm install

# 3. Start development server
npm run dev

# 4. Open browser
# http://localhost:5173

# 5. Build for production
npm run build
```

### Backend Setup

```bash
# 1. Navigate to backend folder
cd backend-spring/petties

# 2. Build with Maven
mvn clean install

# 3. Run application
mvn spring-boot:run

# 4. API accessible at
# http://localhost:8080/api
# Health check: http://localhost:8080/api/actuator/health
```

### Mobile App Setup

```bash
# 1. Navigate to mobile folder
cd petties_mobile

# 2. Get Flutter packages
flutter pub get

# 3. Run on emulator/device
flutter run

# 4. Build APK (Android)
flutter build apk

# 5. Build IPA (iOS)
flutter build ios

# Note: Mobile app supports role-based routing:
# - PET_OWNER: Mobile only
# - VET: Web + Mobile
# - CLINIC_OWNER: Web + Mobile
# - ADMIN: Web only (blocked on mobile)
# - CLINIC_MANAGER: Web only (blocked on mobile)
```

### AI Layer Setup

```bash
# 1. Navigate to AI service folder
cd petties-agent-serivce

# 2. Create virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# 3. Install dependencies
pip install -r requirements.txt

# 4. Run database migrations
alembic upgrade head

# 5. Run FastAPI server
python -m uvicorn app.main:app --reload --port 8000

# 6. Access API docs
# Swagger UI: http://localhost:8000/docs
# Health check: http://localhost:8000/health

# Note: Ollama Configuration
# - Local Mode: Set OLLAMA_BASE_URL=http://localhost:11434 (default)
# - Cloud Mode: Set OLLAMA_API_KEY=sk-... (auto-switches to https://ollama.com)
```

## ğŸ³ Docker Compose Files

Project sá»­ dá»¥ng **3 Docker Compose files** cho cÃ¡c má»¥c Ä‘Ã­ch khÃ¡c nhau:

### ğŸ“ File Structure

| File | Má»¥c Ä‘Ã­ch | Khi nÃ o dÃ¹ng |
|------|----------|--------------|
| `docker-compose.db-only.yml` | Chá»‰ databases (PostgreSQL + MongoDB) | **Development chÃ­nh**: Cháº¡y Backend/AI Service trá»±c tiáº¿p vá»›i hot-reload |
| `docker-compose.dev.yml` | Full stack vá»›i Docker (dev mode) | Test toÃ n bá»™ stack trong Docker, vá»›i hot-reload |
| `docker-compose.prod.yml` | Production test (services only) | Test production build locally trÆ°á»›c khi deploy EC2 |

**LÆ°u Ã½:** Táº¥t cáº£ Dockerfiles sá»­ dá»¥ng **unified multi-stage builds** vá»›i `BUILD_ENV` argument (dev/prod).

### ğŸš€ Quick Start

#### Option 1: Development vá»›i Hot-reload (Khuyáº¿n nghá»‹)

```bash
# 1. Copy environment variables (if not exists)
cp .env.example .env
# Edit .env vá»›i credentials cá»§a báº¡n

# 2. Start databases only
docker-compose -f docker-compose.db-only.yml up -d

# 3. Start services trá»±c tiáº¿p (not in Docker)
# Terminal 1: Backend
cd backend-spring/petties
mvn spring-boot:run

# Terminal 2: AI Service
cd petties-agent-serivce
# Activate virtual environment (if using venv)
# Windows: venv\Scripts\activate
# Linux/Mac: source venv/bin/activate
python -m uvicorn app.main:app --reload --port 8000

# Terminal 3: Frontend
cd petties-web
npm run dev

# Terminal 4: Mobile (Optional)
cd petties_mobile
flutter run
```

**Services sáº½ cháº¡y táº¡i:**
- PostgreSQL: `localhost:5432`
- MongoDB: `localhost:27017`
- Backend API: `http://localhost:8080` (Health: `/api/actuator/health`)
- AI Service: `http://localhost:8000` (Health: `/health`, Docs: `/docs`)
- Frontend Web: `http://localhost:5173`
- Mobile App: Flutter emulator/device

#### Option 2: Full Docker Development

```bash
# Start all services in Docker (khÃ´ng cÃ³ hot-reload)
docker-compose -f docker-compose.dev.yml up --build -d

# View logs
docker-compose -f docker-compose.dev.yml logs -f

# Stop services
docker-compose -f docker-compose.dev.yml down
```

#### Option 3: Production Test Locally

```bash
# Test production build trÆ°á»›c khi deploy EC2
docker-compose -f docker-compose.prod.yml up --build

# Note: Cáº§n set environment variables trong .env
# Hoáº·c pass trá»±c tiáº¿p qua command line
```

### ğŸ” Environment Variables

**Quan trá»ng:** Copy `.env.example` thÃ nh `.env` vÃ  Ä‘iá»n giÃ¡ trá»‹ thá»±c táº¿:

```bash
cp .env.example .env
# Edit .env vá»›i credentials cá»§a báº¡n
```

Xem `.env.example` Ä‘á»ƒ biáº¿t táº¥t cáº£ environment variables cáº§n thiáº¿t.

**Ollama Configuration (Hybrid Mode):**
- **Local Mode (Default)**: 
  - Set `OLLAMA_BASE_URL=http://localhost:11434` (hoáº·c IP server riÃªng)
  - Model: `kimi-k2` (hoáº·c model Ä‘Ã£ pull vá»)
  - Cáº§n cháº¡y Ollama server local hoáº·c self-hosted
- **Cloud Mode (Recommended for Production)**: 
  - Set `OLLAMA_API_KEY=sk-...` (láº¥y tá»« https://ollama.com)
  - Auto-switches base URL to `https://ollama.com`
  - Model: `kimi-k2:1t-cloud` (256K context window)
  - KhÃ´ng cáº§n Ollama server local

---

## ğŸ“ Project Structure

### Frontend Best Practices (React + Vite)

The `petties-web` frontend follows modern React best practices:

```
petties-web/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/           # Reusable UI components
â”‚   â”‚   â”œâ”€â”€ common/          # Shared components (Button, Input, Modal)
â”‚   â”‚   â”œâ”€â”€ features/        # Feature-specific components
â”‚   â”‚   â””â”€â”€ selects/         # Custom select components
â”‚   â”œâ”€â”€ pages/               # Route-based page components
â”‚   â”œâ”€â”€ layouts/             # Layout wrappers (DashboardLayout, AuthLayout)
â”‚   â”œâ”€â”€ services/            # API calls and external integrations
â”‚   â”‚   â”œâ”€â”€ api/            # API client configuration (axios)
â”‚   â”‚   â””â”€â”€ endpoints/      # API endpoint functions
â”‚   â”œâ”€â”€ store/               # State management (Zustand)
â”‚   â”‚   â”œâ”€â”€ auth.store.ts
â”‚   â”‚   â”œâ”€â”€ pet.store.ts
â”‚   â”‚   â””â”€â”€ booking.store.ts
â”‚   â”œâ”€â”€ hooks/               # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”œâ”€â”€ usePets.ts
â”‚   â”‚   â””â”€â”€ useBooking.ts
â”‚   â”œâ”€â”€ types/               # TypeScript type definitions
â”‚   â”‚   â”œâ”€â”€ api.types.ts
â”‚   â”‚   â”œâ”€â”€ models.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ utils/               # Utility functions
â”‚   â”‚   â”œâ”€â”€ formatters.ts
â”‚   â”‚   â”œâ”€â”€ validators.ts
â”‚   â”‚   â””â”€â”€ constants.ts
â”‚   â”œâ”€â”€ assets/              # Static assets (images, icons)
â”‚   â”œâ”€â”€ styles/              # Global styles
â”‚   â”œâ”€â”€ config/              # App configuration
â”‚   â”œâ”€â”€ App.tsx              # Root component with routing
â”‚   â””â”€â”€ main.tsx             # Application entry point
â”œâ”€â”€ public/                  # Static public assets
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ Dockerfile               # Production Docker image
â””â”€â”€ .dockerignore

Key Frontend Recommendations:
âœ… Use functional components with hooks
âœ… Implement proper TypeScript types
âœ… Use Zustand for global state management
âœ… Implement route-based code splitting
âœ… Use React Query for server state
âœ… Implement proper error boundaries
âœ… Use CSS-in-JS or Tailwind CSS consistently
âœ… Implement proper loading states
âœ… Add proper authentication guards
âœ… Use environment variables for API URLs
```

### Backend Structure (Spring Boot)

```
backend-spring/petties/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/com/petties/
â”‚   â”‚   â”‚   â”œâ”€â”€ PettiesApplication.java
â”‚   â”‚   â”‚   â”œâ”€â”€ config/              # Configuration classes
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CorsConfig.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RedisConfig.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MongoConfig.java
â”‚   â”‚   â”‚   â”œâ”€â”€ controller/          # REST Controllers
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AuthController.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PetController.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BookingController.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ VetController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ service/             # Business logic
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ impl/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AuthService.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PetService.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BookingService.java
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/          # Data access layer
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserRepository.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PetRepository.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BookingRepository.java
â”‚   â”‚   â”‚   â”œâ”€â”€ entity/              # JPA entities
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ User.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Pet.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Booking.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Vet.java
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/                 # Data Transfer Objects
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ request/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ response/
â”‚   â”‚   â”‚   â”œâ”€â”€ exception/           # Custom exceptions
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GlobalExceptionHandler.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ResourceNotFoundException.java
â”‚   â”‚   â”‚   â”œâ”€â”€ security/            # Security components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ JwtTokenProvider.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ JwtAuthenticationFilter.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ UserDetailsServiceImpl.java
â”‚   â”‚   â”‚   â””â”€â”€ util/                # Utility classes
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ application.properties
â”‚   â”‚       â”œâ”€â”€ application-dev.properties
â”‚   â”‚       â”œâ”€â”€ application-prod.properties
â”‚   â”‚       â””â”€â”€ db/migration/        # Flyway migrations
â”‚   â””â”€â”€ test/
â”‚       â””â”€â”€ java/com/petties/
â”‚           â”œâ”€â”€ controller/
â”‚           â”œâ”€â”€ service/
â”‚           â””â”€â”€ repository/
â”œâ”€â”€ pom.xml
â”œâ”€â”€ Dockerfile
â””â”€â”€ .dockerignore

Key Backend Recommendations:
âœ… Use layered architecture (Controller â†’ Service â†’ Repository)
âœ… Implement proper exception handling
âœ… Use DTOs for request/response
âœ… Implement JWT authentication
âœ… Use Spring Security for authorization
âœ… Implement request validation
âœ… Use database migrations (Flyway/Liquibase)
âœ… Add comprehensive logging
âœ… Implement caching where appropriate
âœ… Use connection pooling (HikariCP)
```

### Complete Project Structure

```
petties/
â”‚
â”œâ”€â”€ petties-web/                    # Web Frontend (detailed above)
â”‚
â”œâ”€â”€ petties_mobile/                 # Mobile App
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ screens/
â”‚   â”‚   â”œâ”€â”€ widgets/
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â””â”€â”€ main.dart
â”‚   â””â”€â”€ pubspec.yaml
â”‚
â”œâ”€â”€ backend-spring/petties/          # Spring Boot API (detailed above)
â”‚
â”œâ”€â”€ petties-agent-serivce/          # Python AI Layer
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py                 # FastAPI application
â”‚   â”‚   â”œâ”€â”€ api/                    # API routes (agents, tools, knowledge, chat, settings)
â”‚   â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”‚   â”œâ”€â”€ agents/             # Multi-agent system (Main, Booking, Medical, Research)
â”‚   â”‚   â”‚   â”œâ”€â”€ tools/              # Tool registry, executor, MCP integration
â”‚   â”‚   â”‚   â””â”€â”€ prompts/            # Prompt templates
â”‚   â”‚   â”œâ”€â”€ config/                 # Settings & logging
â”‚   â”‚   â”œâ”€â”€ db/                     # Database models & session
â”‚   â”‚   â””â”€â”€ services/               # Business logic
â”‚   â”œâ”€â”€ alembic/                    # Database migrations
â”‚   â”œâ”€â”€ requirements.txt            # Python dependencies
â”‚   â”œâ”€â”€ Dockerfile                  # Unified Dockerfile (dev/prod)
â”‚   â””â”€â”€ .dockerignore
â”‚
â”œâ”€â”€ docker-compose.db-only.yml      # Databases only (PostgreSQL + MongoDB)
â”œâ”€â”€ docker-compose.dev.yml          # Full dev stack (databases + services)
â”œâ”€â”€ docker-compose.prod.yml         # Production test (services only)
â”œâ”€â”€ .env.example                    # Environment variables template
â”œâ”€â”€ scripts/                        # Utility scripts
â”‚   â”œâ”€â”€ create-env-example.py       # Generate .env.example
â”‚   â”œâ”€â”€ dev-start.bat               # Windows dev start script
â”‚   â””â”€â”€ dev-stop.bat                # Windows dev stop script
â”œâ”€â”€ docs-references/                # Technical documentation
â”‚   â”œâ”€â”€ PETTIES_Features.md         # Feature list
â”‚   â”œâ”€â”€ TECHNICAL SCOPE PETTIES - AGENT MANAGEMENT.md
â”‚   â”œâ”€â”€ DEVELOPMENT_WORKFLOW.md
â”‚   â””â”€â”€ SETUP_GUIDE.md
â””â”€â”€ README.md                       # This file
```

---

## ğŸ³ Docker Configuration

### Services Architecture

The project uses Docker Compose to orchestrate multiple services:

| Service | Image | Port | Description |
|---------|-------|------|-------------|
| **postgres** | postgres:16-alpine | 5432 | PostgreSQL database for relational data |
| **mongodb** | mongo:7-jammy | 27017 | MongoDB for flexible document storage |
| **backend** | Custom (Java 21, Spring Boot 4.0.0) | 8080 | Spring Boot REST API |
| **ai-service** | Custom (Python 3.12) | 8000 | FastAPI AI Agent Service |
| **Qdrant** | Cloud (External) | - | Vector database for AI embeddings |
| **Ollama** | Local/Cloud (Hybrid) | 11434 | LLM inference (Local or Cloud API) |

**Note:** 
- Qdrant sá»­ dá»¥ng Qdrant Cloud (khÃ´ng cháº¡y local)
- Ollama cÃ³ thá»ƒ cháº¡y local hoáº·c dÃ¹ng Ollama Cloud API
- Web frontend vÃ  Mobile app cháº¡y ngoÃ i Docker trong development

### Dockerfile Optimization

All Dockerfiles use multi-stage builds for lightweight production images:

#### Web Frontend Dockerfile
- **Stage 1**: Build with Node.js (dependencies + build)
- **Stage 2**: Serve with Nginx (only production files)
- **Size**: ~25MB (vs ~500MB+ without optimization)
- **Features**: Gzip compression, caching headers, health checks

#### Backend Dockerfile
- **Stage 1**: Build with Maven (compile + package)
- **Stage 2**: Run with JRE (only JAR file)
- **Size**: ~150MB (vs ~350MB+ with full JDK)
- **Features**: Non-root user, optimized JVM settings, health checks

#### AI Service Dockerfile
- **Unified Dockerfile**: Supports both dev and prod via `BUILD_ENV` argument
- **Base**: Python 3.12 slim-bookworm (minimal dependencies)
- **Multi-stage**: Builder stage (install deps) + Runtime stage (minimal)
- **Size**: ~400MB (includes ML libraries)
- **Features**: Non-root user, health checks, hot-reload (dev mode)

### Environment Variables

All services use environment variables for configuration. See `.env.example` for complete list.

### Health Checks

All services implement health checks for Docker Compose readiness:
- **Web**: HTTP check on `/health`
- **Backend**: HTTP check on `/api/actuator/health`
- **AI Service**: HTTP check on `/health`
- **Databases**: Native health check commands

### Volume Management

Persistent data is stored in Docker volumes:
- `postgres_dev_data`: PostgreSQL database (development)
- `mongodb_dev_data`: MongoDB database (development)

**Note:** 
- Qdrant sá»­ dá»¥ng Qdrant Cloud (external service, khÃ´ng cÃ³ local volume)
- Redis khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng trong current setup (optional)

---

## ğŸ”Œ API Endpoints

> **âœ… Production URLs:** API endpoints cÃ³ sáºµn táº¡i `https://api.petties.world/api`. Development sá»­ dá»¥ng `http://localhost:8080/api`.

### Authentication âœ… (Implemented)
```
POST   /api/auth/register          - ÄÄƒng kÃ½ tÃ i khoáº£n âœ…
POST   /api/auth/login             - ÄÄƒng nháº­p âœ…
POST   /api/auth/google            - ÄÄƒng nháº­p báº±ng Google âœ… (NEW)
POST   /api/auth/logout            - ÄÄƒng xuáº¥t âœ…
POST   /api/auth/refresh           - LÃ m má»›i token âœ…
GET    /api/auth/me                - Láº¥y thÃ´ng tin user hiá»‡n táº¡i âœ…
```

> ğŸ” **Google Sign-In**: Há»— trá»£ Ä‘Äƒng nháº­p báº±ng Google cho cáº£ Mobile vÃ  Web.
> - Mobile (Flutter) â†’ Auto-assign role `PET_OWNER`
> - Web (React) â†’ Auto-assign role `CLINIC_OWNER`
> - Xem chi tiáº¿t: [`petties_mobile/GOOGLE_SIGNIN_SETUP.md`](petties_mobile/GOOGLE_SIGNIN_SETUP.md)

### Pet Management âš ï¸ (Not Yet Implemented)
```
GET    /api/pets                   - Láº¥y danh sÃ¡ch pet âš ï¸
POST   /api/pets                   - ThÃªm pet má»›i âš ï¸
GET    /api/pets/{id}              - Chi tiáº¿t pet âš ï¸
PUT    /api/pets/{id}              - Cáº­p nháº­t pet âš ï¸
DELETE /api/pets/{id}              - XÃ³a pet âš ï¸
```

### Booking âš ï¸ (Not Yet Implemented)
```
GET    /api/bookings               - Danh sÃ¡ch appointment âš ï¸
POST   /api/bookings               - Táº¡o appointment má»›i âš ï¸
GET    /api/bookings/{id}          - Chi tiáº¿t appointment âš ï¸
PUT    /api/bookings/{id}          - Cáº­p nháº­t appointment âš ï¸
POST   /api/bookings/{id}/cancel   - Há»§y appointment âš ï¸
```

### Vet âš ï¸ (Not Yet Implemented)
```
GET    /api/vets                   - Danh sÃ¡ch bÃ¡c sÄ© thÃº y âš ï¸
GET    /api/vets/available         - BÃ¡c sÄ© cÃ³ sáºµn âš ï¸
GET    /api/vets/{id}              - Chi tiáº¿t bÃ¡c sÄ© âš ï¸
GET    /api/vets/{id}/schedule     - Lá»‹ch biá»ƒu bÃ¡c sÄ© âš ï¸
```

### AI Chatbot & Agent Management
```
POST   /api/v1/chat                - Gá»­i tin nháº¯n Ä‘áº¿n AI Agent
GET    /api/v1/chat/history        - Lá»‹ch sá»­ chat
WS     /ws/chat/{session_id}       - WebSocket real-time chat
GET    /api/v1/agents              - Danh sÃ¡ch agents
GET    /api/v1/agents/{id}         - Chi tiáº¿t agent
PUT    /api/v1/agents/{id}         - Cáº­p nháº­t agent config
GET    /api/v1/tools               - Danh sÃ¡ch tools
POST   /api/v1/tools/scan          - Scan code-based tools
GET    /api/v1/knowledge           - Knowledge base documents
POST   /api/v1/knowledge/upload    - Upload document
GET    /api/v1/settings            - System settings
PUT    /api/v1/settings            - Update settings
```

---

## ğŸ“Š Feature Implementation Status

> **Last Updated:** December 15, 2025  
> **Project Status:** ğŸ”„ Sprint 1 In Progress (62% Complete)
> **Current Sprint:** Sprint 1 - Project Setup, Infrastructure & Authentication

### Overall Progress (Based on WBS)

| Component | Completion | Status | Notes |
|-----------|------------|--------|-------|
| **Backend (Spring Boot)** | 15% | ğŸ”„ In Progress | Auth (JWT, OAuth, Roles) âœ…, Password Reset ğŸ”„ |
| **AI Service** | 10% | ğŸ”„ In Progress | Basic setup âœ…, LangGraph planned |
| **Web Frontend** | 20% | ğŸ”„ In Progress | Login âœ…, Admin Dashboard âœ…, Other Dashboards ğŸ”„ |
| **Mobile App** | 25% | ğŸ”„ In Progress | Auth âœ…, Routing âœ…, Home Screens âœ… |
| **Infrastructure** | 90% | âœ… Ready | CI/CD âœ…, Databases âœ…, Docker âœ… |

### Detailed Status

#### Backend (Spring Boot) - 15% Complete

| Feature | Status | Notes |
|---------|--------|-------|
| JWT Authentication | âœ… Done | Login, Register, Refresh Token |
| Google OAuth Integration | âœ… Done | Web + Mobile support |
| Role-based Authorization | âœ… Done | 5 Roles: PET_OWNER, VET, CLINIC_MANAGER, CLINIC_OWNER, ADMIN |
| Password Reset Flow | ğŸ”„ In Progress | Forgot password, OTP, Reset |
| User Profile APIs | ğŸ”„ In Progress | Get/Update profile, Avatar upload |
| Pet Management API | âš ï¸ Sprint 2 | Planned |
| Booking API | âš ï¸ Sprint 4 | Planned |
| Vet API | âš ï¸ Sprint 3 | Planned |

#### AI Service (FastAPI) - 30% Complete

| Feature | Status | Notes |
|---------|--------|-------|
| Multi-Agent System | âœ… Done | Main, Booking, Medical, Research |
| Dynamic Config Loader | âœ… Done | DB-based configuration |
| Agent Factory | âœ… Done | Dynamic agent creation |
| Prompt Management | âœ… Done | Versioned prompts in DB |
| Tool System | âœ… Done | Scanner (Code-based only) |
| Ollama Hybrid Mode | âœ… Done | Local/Cloud support |
| RAG Pipeline | ğŸ”„ 50% | Qdrant client âœ…, Document processing ğŸ”„ |
| Chat API | ğŸ”„ 50% | In-memory storage (needs migration) |
| LLM Intent Classification | ğŸ”„ In Progress | AG-04 - LLM + Prompt based |
| WebSocket Streaming | âš ï¸ TODO | PG-01 - Critical |

#### Web Frontend (React) - 20% Complete

| Feature | Status | Notes |
|---------|--------|-------|
| Login UI | âœ… Done | Shared login page for all roles |
| Onboarding & Auth Screens | âœ… Done | Welcome, Login, Register with Google |
| Role Protection Components | âœ… Done | ProtectedRoute, RoleGuard |
| Admin Dashboard Layout | âœ… Done | Stats, charts, recent activities |
| Clinic Owner Dashboard Layout | âœ… Done | Clinic stats, revenue overview |
| Clinic Manager Dashboard Layout | ğŸ”„ In Progress | Today bookings, vet schedules |
| Vet Dashboard Layout | ğŸ”„ In Progress | Assigned appointments, schedule view |
| Pet Management UI | âš ï¸ Sprint 2 | Planned |
| Booking Flow UI | âš ï¸ Sprint 4-5 | Planned |

#### Mobile App (Flutter) - 25% Complete

| Feature | Status | Notes |
|---------|--------|-------|
| Onboarding Screens | âœ… Done | 3 slides introduction |
| Login & Register | âœ… Done | With Google Sign-In |
| Role-based Routing | âœ… Done | GoRouter with role guards |
| Role Restrictions | âœ… Done | ADMIN/CLINIC_MANAGER/CLINIC_OWNER blocked (web only) |
| Pet Owner Home Screen | âœ… Done | Pet cards, quick actions, bottom nav |
| Vet Home Screen | âœ… Done | Today appointments, calendar |
| User Profile Screen | ğŸ”„ In Progress | Avatar, edit info, change password |
| Pet Management | âš ï¸ Sprint 2 | Planned |
| Booking Flow | âš ï¸ Sprint 4-5 | Planned |

---

## ğŸ¯ Role-Based Access & Platforms

### Platform Support by Role

| Role | Web | Mobile | Notes |
|------|-----|--------|-------|
| **PET_OWNER** | âŒ | âœ… | Mobile only (blocked on web) |
| **VET** | âœ… | âœ… | Web + Mobile |
| **CLINIC_OWNER** | âœ… | âŒ | Web only (blocked on mobile) |
| **CLINIC_MANAGER** | âœ… | âŒ | Web only (blocked on mobile) |
| **ADMIN** | âœ… | âŒ | Web only (blocked on mobile) |

### Authentication & Routing

- **Web**: Role-based routing vá»›i React Router v7, Zustand state management
- **Mobile**: Role-based routing vá»›i GoRouter, Provider state management, tá»± Ä‘á»™ng redirect theo role sau khi login
- **Backend**: JWT authentication vá»›i Spring Security 6.x
- **Token Management**: Access token + Refresh token vá»›i blacklist support
- **Google Sign-In**: OAuth 2.0 integration cho cáº£ Web (React) vÃ  Mobile (Flutter)
  - Mobile â†’ Auto-assign `PET_OWNER` role
  - Web â†’ Auto-assign `CLINIC_OWNER` role
  - Chi tiáº¿t setup: [`petties_mobile/GOOGLE_SIGNIN_SETUP.md`](petties_mobile/GOOGLE_SIGNIN_SETUP.md)

---

## ğŸ¤– AI Agent Architecture

### Multi-Agent System (LangGraph)

```
User Query
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Main Agent     â”‚  â† Supervisor (Intent Classification, Routing)
â”‚  (Supervisor)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼         â–¼          â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Booking  â”‚ â”‚ Medical  â”‚ â”‚ Research â”‚
â”‚ Agent   â”‚ â”‚ Agent    â”‚ â”‚ Agent    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚         â”‚            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Tools (MCP)   â”‚  â† check_slot, RAG_search, web_search, etc.
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Agent Responsibilities

1. **Main Agent (Supervisor)**
   - Intent classification vá»›i LLM + Well-crafted Prompts
   - Context-aware routing Ä‘áº¿n Sub-Agents
   - Response synthesis vÃ  quality control
   - State management (conversation context)

2. **Booking Agent**
   - Xá»­ lÃ½ Ä‘áº·t lá»‹ch khÃ¡m
   - Kiá»ƒm tra slot trá»‘ng
   - Há»§y lá»‹ch háº¹n
   - Tools: `check_slot`, `create_booking`, `cancel_booking`

3. **Medical Agent (Semi-Autonomous)**
   - Cháº©n Ä‘oÃ¡n sÆ¡ bá»™ dá»±a trÃªn triá»‡u chá»©ng
   - Internal RAG search (knowledge base)
   - Auto-delegate to Research Agent náº¿u confidence < 80%
   - Tools: `rag_search`, `search_symptoms`

4. **Research Agent (Web Researcher)**
   - TÃ¬m kiáº¿m thÃ´ng tin trÃªn web (Tavily/DuckDuckGo)
   - Tra cá»©u bÃ i viáº¿t y khoa
   - TÃ¬m video hÆ°á»›ng dáº«n (YouTube)
   - Báº¯t buá»™c trÃ­ch dáº«n nguá»“n (URL)
   - Tools: `web_search`, `search_youtube_videos`, `extract_web_content`

### Ollama Hybrid Mode

- **Local Mode**: 
  - Ollama server cháº¡y local táº¡i `http://localhost:11434`
  - Model: `kimi-k2` (hoáº·c model Ä‘Ã£ pull vá»)
  - Cáº§n setup Ollama local hoáº·c self-hosted
- **Cloud Mode (Recommended for Production)**: 
  - DÃ¹ng Ollama Cloud API vá»›i API key (`https://ollama.com`)
  - Model: `kimi-k2:1t-cloud` (256K context window)
  - Auto-switching khi cÃ³ `OLLAMA_API_KEY`
  - KhÃ´ng cáº§n Ollama server local
- **Configuration**: Admin cÃ³ thá»ƒ config qua Dashboard (khÃ´ng cáº§n restart server)

---

## ğŸ” Security

- **JWT Authentication**: Token-based authentication
- **Password Encryption**: bcrypt hashing
- **HTTPS/TLS**: Encrypted communication
- **CORS**: Cross-Origin Resource Sharing configured
- **Rate Limiting**: API throttling
- **Input Validation**: XSS & SQL Injection prevention
- **Role-Based Access Control (RBAC)**: PhÃ¢n quyá»n ngÆ°á»i dÃ¹ng

---


## ğŸ§ª Testing

```bash
# Frontend Testing
npm run test

# Backend Testing
mvn test

# End-to-End Testing
npm run test:e2e

# Mobile Testing
flutter test
```

---

## ğŸ“š Documentation

- [Setup Guide](./docs-references/SETUP_GUIDE.md) - Chi tiáº¿t setup tá»«ng service
- [Development Workflow](./docs-references/DEVELOPMENT_WORKFLOW.md) - Quy trÃ¬nh phÃ¡t triá»ƒn
- [Features List](./docs-references/PETTIES_Features.md) - Danh sÃ¡ch Ä‘áº§y Ä‘á»§ tÃ­nh nÄƒng
- [AI Agent Management](./docs-references/TECHNICAL%20SCOPE%20PETTIES%20-%20AGENT%20MANAGEMENT.md) - Kiáº¿n trÃºc AI Agent chi tiáº¿t
- [Git Workflow](./docs-references/PETTIES_Git_Workflow_TEAM_GUIDE.md) - Git collaboration guide

---

## ğŸ¤ Contributing

1. Fork repository
2. Táº¡o feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Má»Ÿ Pull Request

---

## ğŸ“ Git Workflow

```bash
# Main branches
main                    # Production release
develop                 # Development branch

# Feature branches
feature/booking         # Feature specific
bugfix/payment-issue    # Bug fixes
hotfix/critical-bug     # Critical fixes
```

---

---

## ğŸš€ Deployment Status

> **âœ… Production Deployed:** Project Ä‘Ã£ Ä‘Æ°á»£c deploy lÃªn production táº¡i **petties.world**

### Current Environment
- **Development:** Local (localhost)
- **Production:** âœ… Live at petties.world

### Production URLs
| Service | URL |
|---------|-----|
| **Web Frontend** | https://petties.world |
| **Backend API** | https://api.petties.world |
| **AI Service** | https://ai.petties.world |

### Infrastructure
- **Web Frontend:** Vercel
- **Backend/AI Service:** EC2
- **Databases:** Neon (PostgreSQL), MongoDB Atlas, Qdrant Cloud

### Sprint 1 Remaining Tasks (6 Pending)
1. â³ Password Reset Flow (Backend - TuÃ¢n)
2. â³ User Profile APIs (Backend - TÃ¢n)
3. â³ Clinic Manager Dashboard Layout (Frontend - TÃ¢nPIC)
4. â³ Vet Dashboard Layout (Frontend - TÃ¢nPIC)
5. â³ User Profile Screen (Mobile - UyÃªn)
6. â³ Draft Reports 1, 2, 3 (Docs)

### Sprint 2 Planned (17/12 - 23/12/2025)
- Pet Management (APIs + Mobile UI)
- Clinic Management (APIs + Web UI)
- Service Management
- Admin Approval Flow

---

**Last Updated**: December 15, 2025  
**Version**: 1.0.0 (Production)  
**Current Sprint**: Sprint 1 (62% Complete)  
**Status**: âœ… Deployed at petties.world
